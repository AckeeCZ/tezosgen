import Foundation
import XCTest
import PathKit
import SwiftCLI

class CommandLineToolTests: XCTestCase {

//    private let generatedContractsString = "GeneratedContracts/"
//    private let generatorCLI = CLI(singleCommand: GenerateCommand())
//
//    func testGeneratedContractsFileCreated() throws {
//        XCTAssertEqual(0, generatorCLI.debugGo(with: "generate TestContract abi.json"))
//        XCTAssertTrue(AbsolutePath(generatedContractsString).exists)
//
//        try AbsolutePath(generatedContractsString).delete()
//    }
//
//    func testTestContractFileCreated() throws {
//        XCTAssertEqual(0, generatorCLI.debugGo(with: "generate TestContract abi.json"))
//        XCTAssertTrue(AbsolutePath(generatedContractsString + "TestContract.swift").exists)
//
//        try AbsolutePath(generatedContractsString).delete()
//    }
//
//    func testSharedContractFileCreated() throws {
//        XCTAssertEqual(0, generatorCLI.debugGo(with: "generate TestContract abi.json"))
//        XCTAssertTrue(AbsolutePath(generatedContractsString + "SharedContract.swift").exists)
//
//        try AbsolutePath(generatedContractsString).delete()
//    }
//
//    func testOutputOption() throws {
//        let outputPath = "Output/" + generatedContractsString
//        XCTAssertEqual(0, generatorCLI.debugGo(with: "generate TestContract abi.json -o \(outputPath)"))
//
//        XCTAssertTrue(AbsolutePath(outputPath).exists)
//        XCTAssertTrue(AbsolutePath(outputPath + "SharedContract.swift").exists)
//        XCTAssertTrue(AbsolutePath(outputPath + "TestContract.swift").exists)
//
//        try AbsolutePath("Output").delete()
//    }
}

